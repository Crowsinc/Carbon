#include "Ticker.hpp"

namespace cbn
{
	//-------------------------------------------------------------------------------------

	Ticker::Ticker()
		: m_Counter(0)
	{}
	
	//-------------------------------------------------------------------------------------

	void Ticker::tick()
	{
		m_Counter++;
		m_DeltaTime = m_Stopwatch.restart();

		TickEvent.dispatch(m_Counter, m_DeltaTime);
	}

	//-------------------------------------------------------------------------------------

	Time Ticker::delta_time() const
	{
		return m_DeltaTime;
	}

	//-------------------------------------------------------------------------------------

	Time Ticker::elapsed_time() const
	{
		return m_Stopwatch.elapsed();
	}

	//-------------------------------------------------------------------------------------

	uint64_t Ticker::tick_count() const
	{
		return m_Counter;
	}

	//-------------------------------------------------------------------------------------

	void Ticker::reset_counter()
	{
		m_Counter = 0;
	}

	//-------------------------------------------------------------------------------------
}